import gradio as gr
import pandas as pd
import random

# CSV –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –∂“Ø–∫—Ç–µ—É (—Ñ–∞–π–ª Hugging Face Spaces —ñ—à—ñ–Ω–µ —Å–∞–ª—ã–Ω—É—ã –∫–µ—Ä–µ–∫)
df = pd.read_csv("car_models.csv")

# ML-–º–æ–¥–µ–ª—å–¥—ñ“£ –æ—Ä–Ω—ã–Ω–∞ ‚Äî “õ–∞—Ä–∞–ø–∞–π—ã–º –ª–æ–≥–∏–∫–∞ (–¥–µ–º–æ –º–∞“õ—Å–∞—Ç—Ç–∞)
def predict_car_brand(car_type):
    # –§–∏–ª—å—Ç—Ä: —Ç–∞“£–¥–∞–ª“ì–∞–Ω —Ç–∏–ø–∫–µ —Å”ô–π–∫–µ—Å –∫”©–ª—ñ–∫—Ç–µ—Ä
    filtered = df[df["–¢–∏–ø"].str.lower() == car_type.lower()]
    if len(filtered) == 0:
        return "–ú“±–Ω–¥–∞–π —Ç–∏–ø —Ç–∞–±—ã–ª–º–∞–¥—ã. –ë–∞—Å“õ–∞ –µ–Ω–≥—ñ–∑—ñ–ø –∫”©—Ä—ñ“£—ñ–∑."
    # –ö–µ–∑–¥–µ–π—Å–æ“õ –±—ñ—Ä –º–∞—Ä–∫–∞–Ω—ã —Ç–∞“£–¥–∞—É
    return random.choice(filtered["–ú–∞—Ä–∫–∞"].tolist())

# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∂–∞—Å–∞—É
demo = gr.Interface(
    fn=predict_car_brand,
    inputs=gr.Dropdown(
        ["—Å–µ–¥–∞–Ω", "–ø–∏–∫–∞–ø", "–≥–∏–±—Ä–∏–¥", "—É–Ω–∏–≤–µ—Ä—Å–∞–ª", "–≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫", "–∫—É–ø–µ", "–∫–∞–±—Ä–∏–æ–ª–µ—Ç", "–º–∏–Ω–∏–≤—ç–Ω", "—Ö—ç—Ç—á–±–µ–∫"],
        label="–ö”©–ª—ñ–∫ —Ç–∏–ø—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑"
    ),
    outputs="text",
    title="üöó –ë–æ–ª–∂–∞—É –º–æ–¥–µ–ª—ñ: –ö”©–ª—ñ–∫ –º–∞—Ä–∫–∞—Å—ã–Ω –∞–Ω—ã“õ—Ç–∞—É",
    description="–¢–∏–ø –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã: —Å–µ–¥–∞–Ω, –ø–∏–∫–∞–ø, –≥–∏–±—Ä–∏–¥) ‚Äî –∂”ô–Ω–µ –º–æ–¥–µ–ª—å —Å”ô–π–∫–µ—Å –∫–µ–ª–µ—Ç—ñ–Ω –∫”©–ª—ñ–∫ –º–∞—Ä–∫–∞—Å—ã–Ω –±–æ–ª–∂–∞–π–¥—ã."
)

if __name__ == "__main__":
    demo.launch()
